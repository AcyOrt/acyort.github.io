<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<meta name="keywords" content="website,acyort,static" />
<meta name="description" content="A Node.js static website framework" />
<link rel="stylesheet" href="/css/style.css" />
<script>window.__language = "zh-cn"</script>

<title>
内置方法 - AcyOrt
</title>
</head>

<body>

<div class="header">
  <div class="center">
    <div class="menu">
      
      <a class="logo" href="/zh-cn/">AcyOrt</a>
      
      <a class="github" target="_blank" href="https://github.com/acyortjs/acyort/"></a>
      
      
      <a class="normal" href="/zh-cn/docs/">文档</a>
      
      
      
      <a class="normal" href="/zh-cn/api/">API</a>
      
      
      
      <a class="normal" href="/zh-cn/miscellaneous/">其他</a>
      
      
    </div>
    <div class="mobile-menu">
      
      
      <a href="/zh-cn/docs/">文档</a>
      
      
      
      <a href="/zh-cn/api/">API</a>
      
      
      
      <a href="/zh-cn/miscellaneous/">其他</a>
      
      
      <ul><li><p>开始使用</p><a href="/zh-cn/docs/">概述</a><a href="/zh-cn/docs/setup/">创建</a><a href="/zh-cn/docs/configuration/">配置</a><a href="/zh-cn/docs/command/">命令</a></li><li><p>自定义</p><a href="/zh-cn/docs/template/">模板</a><a href="/zh-cn/docs/variable/">变量</a><a href="/zh-cn/docs/helper/">辅助函数</a><a href="/zh-cn/docs/plugin/">插件</a></li></ul>
      <ul><li><p>API</p><a href="/zh-cn/api/">概述</a><a href="/zh-cn/api/method/">所有方法</a><a href="/zh-cn/api/store/">数据存储</a><a href="/zh-cn/api/process/">流程控制</a><a href="/zh-cn/api/cli/">命令行</a><a href="/zh-cn/api/workflow/">流程注册</a><a href="/zh-cn/api/helper/">辅助函数</a><a href="/zh-cn/api/output/">输出 HTML</a></li></ul>
    </div>
    <div class="language">
      <select id="language">
        
        <option value="">English</option>
        

        
        
        <option value="zh-cn" selected>简体中文</option>
        
        
      </select>
      <div id="toggle"></div>
    </div>
  </div>
</div>



<div class="banner">
  <div class="center">内置方法</div>
</div>

<div class="center main">
  <div class="nav">
    <div class="stay">
      
      <ul><li><p>API</p><a href="/zh-cn/api/">概述</a><a href="/zh-cn/api/method/">所有方法</a><a href="/zh-cn/api/store/">数据存储</a><a href="/zh-cn/api/process/">流程控制</a><a href="/zh-cn/api/cli/">命令行</a><a href="/zh-cn/api/workflow/">流程注册</a><a href="/zh-cn/api/helper/">辅助函数</a><a href="/zh-cn/api/output/">输出 HTML</a></li></ul>
      

      
    </div>
  </div>

  <div class="content markdown">
    <p>AcyOrt 提供一些 API 方便插件使用，在插件中，你可以通过函数变量 <code>acyort</code> 获取这些 API</p>

      <div class="hljs javascript">
        <pre><span class="hljs-comment">// 插件代码</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function">(<span class="hljs-params">acyort</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(acyort) <span class="hljs-comment">// 列出所有方法 </span>
}</pre>
      </div>
    <p>不过，当你将 AcyOrt 作为一个 node <a href="/api/">模块</a> 使用，那么你可以直接访问以下方法</p>

            <h3>
              <a href="#文件操作" id="文件操作" class="heading"></a>文件操作
            </h3>
          <p>文件操作使用的是 <code>fs</code> 的 “加强版” <a href="https://github.com/jprichardson/node-fs-extra">fs-extra</a> </p>

      <div class="hljs javascript">
        <pre><span class="hljs-keyword">const</span> { fs } = acyort
<span class="hljs-keyword">const</span> { copySync, removeSync } = fs</pre>
      </div>
    
            <h3>
              <a href="#程序版本" id="程序版本" class="heading"></a>程序版本
            </h3>
          <p>获取当前 AcyOrt 版本</p>

      <div class="hljs javascript">
        <pre><span class="hljs-keyword">const</span> { <span class="hljs-keyword">version</span> } = acyort</pre>
      </div>
    
            <h3>
              <a href="#配置信息" id="配置信息" class="heading"></a>配置信息
            </h3>
          <p>获取网站配置信息，即网站配置文件 <code>config.yml</code> 内容，同时会获得当前运行的一些额外路径信息等</p>

      <div class="hljs javascript">
        <pre>const { config } = acyort
/*
{
  ur<span class="hljs-variable">l:</span> <span class="hljs-string">'https://acyort.com'</span>,
  template: <span class="hljs-string">'ccc45'</span>,
  script<span class="hljs-variable">s:</span> [ <span class="hljs-string">'script.js'</span> ],
  plugin<span class="hljs-variable">s:</span> [],
  public: <span class="hljs-string">'/'</span>,
  timezone: <span class="hljs-string">'Asia/Shanghai'</span>,
  <span class="hljs-keyword">language</span>: <span class="hljs-string">'en'</span>,
  roo<span class="hljs-variable">t:</span> <span class="hljs-string">'/'</span>,
  base: <span class="hljs-string">'/Users/am0200/Documents/github/acyort/assets'</span> 
}
*/</pre>
      </div>
    
            <h3>
              <a href="#终端输出" id="终端输出" class="heading"></a>终端输出
            </h3>
          <p>用于输出内容显示，使用的是 <a href="https://github.com/acyortjs/logger">logger</a></p>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">logger</span> } = acyort
logger.<span class="hljs-literal">info</span>(<span class="hljs-string">'info'</span>)
logger.<span class="hljs-literal">error</span>(<span class="hljs-string">'error'</span>)</pre>
      </div>
    
            <h3>
              <a href="#渲染器" id="渲染器" class="heading"></a>渲染器
            </h3>
          <p>内置支持 <code>swig</code>, <code>markdown</code>, <code>yaml</code> 的渲染，还支持自定义渲染器。具体查看 <a href="https://github.com/acyortjs/renderer">renderer</a> </p>

      <div class="hljs javascript">
        <pre>const { <span class="hljs-keyword">renderer</span> } = acyort
<span class="hljs-keyword">renderer</span>.<span class="hljs-keyword">render</span>(<span class="hljs-string">'swig'</span>, { title: <span class="hljs-string">'swig'</span> })
<span class="hljs-keyword">renderer</span>.renderFile(<span class="hljs-string">'swig'</span>, <span class="hljs-string">'html path'</span>, { title: <span class="hljs-string">'swig'</span> })</pre>
      </div>
    
            <h3>
              <a href="#命令行注册" id="命令行注册" class="heading"></a>命令行注册
            </h3>
          <p>通过这个方法，你可以自定义一些 cli 命令行，具体使用方式查看 <a href="/api/cli/">cli</a></p>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">cli</span> } = acyort</pre>
      </div>
    
            <h3>
              <a href="#数据存储" id="数据存储" class="heading"></a>数据存储
            </h3>
          <p>用于插件间的数据传递，具体使用方式查看 <a href="/api/store/">store</a></p>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">store</span> } = acyort</pre>
      </div>
    
            <h3>
              <a href="#流程注册" id="流程注册" class="heading"></a>流程注册
            </h3>
          <p>该方法用于注册这个运行流程，你可以自由控制整个运行流程，具体使用查看 <a href="/api/workflow/">wordflow</a></p>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">workflow</span> } = acyort</pre>
      </div>
    
            <h3>
              <a href="#辅助函数" id="辅助函数" class="heading"></a>辅助函数
            </h3>
          <p>内置一些多语言，时间，路径函数，可以方便在模板中使用，同时可以自定义一些函数用于模板使用</p>
<ul>
<li>内置函数使用可以查看 <a href="/docs/helper/">这里</a></li>
<li>自定义辅助函数看 <a href="/api/helper/">这里</a></li>
</ul>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">helper</span> } = acyort</pre>
      </div>
    
            <h3>
              <a href="#输出-html" id="输出-html" class="heading"></a>输出 HTML
            </h3>
          <p>内置一个用于根据模板，数据快速生成 HTML 文件函数，具体使用方式可以查看 <a href="/api/output/">output</a></p>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">outputHTML</span> } = acyort</pre>
      </div>
    
            <h3>
              <a href="#静态文件处理" id="静态文件处理" class="heading"></a>静态文件处理
            </h3>
          <p>此函数用于复制模板中的 source 文件里面的资源文件到网站根目录</p>

      <div class="hljs javascript">
        <pre><span class="hljs-keyword">const</span> { <span class="hljs-keyword">copySource</span> } = acyort
<span class="hljs-keyword">copySource</span>() <span class="hljs-comment">// 同步方式复制所以资源文件到网站根目录</span></pre>
      </div>
    
            <h3>
              <a href="#流程运行" id="流程运行" class="heading"></a>流程运行
            </h3>
          <p>此函数用执行插件注册的函数，只能在命令行注册中的 action 函数上下文访问到，具体查看 <a href="/api/process/">process</a></p>

      <div class="hljs javascript">
        <pre>acyort.cli.<span class="hljs-keyword">register</span>(<span class="hljs-string">'options'</span>, {
  name: <span class="hljs-string">'--process'</span>,
  alias: <span class="hljs-string">'-p'</span>,
  description: <span class="hljs-string">'processing'</span>,
  action(argv) {
    <span class="hljs-keyword">const</span> { <span class="hljs-built_in">process</span> } = <span class="hljs-keyword">this</span>
  },
})</pre>
      </div>
    

    
    <div class="paginator">
      <a name="paginator" class="prev" href="/zh-cn/api/">上一页</a><a name="paginator" class="next" href="/zh-cn/api/store/">下一页</a>
    </div>
    
  </div>

  <div class="toc">
    <div class="stay">
      
      
      <p>目录</p>
      <ul>
<li><a href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C">文件操作</a></li>
<li><a href="#%E7%A8%8B%E5%BA%8F%E7%89%88%E6%9C%AC">程序版本</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">配置信息</a></li>
<li><a href="#%E7%BB%88%E7%AB%AF%E8%BE%93%E5%87%BA">终端输出</a></li>
<li><a href="#%E6%B8%B2%E6%9F%93%E5%99%A8">渲染器</a></li>
<li><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%B3%A8%E5%86%8C">命令行注册</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8">数据存储</a></li>
<li><a href="#%E6%B5%81%E7%A8%8B%E6%B3%A8%E5%86%8C">流程注册</a></li>
<li><a href="#%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0">辅助函数</a></li>
<li><a href="#%E8%BE%93%E5%87%BA-html">输出 HTML</a></li>
<li><a href="#%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86">静态文件处理</a></li>
<li><a href="#%E6%B5%81%E7%A8%8B%E8%BF%90%E8%A1%8C">流程运行</a></li>
</ul>

      
    </div>
  </div>
</div>


<div class="footer">
  <div class="center">
    <div class="copy">
      &copy; 2019.
      <span>由 AcyOrt@3.0.11 构建</span>
    </div>
    <p>
      <a target="_blank" href="https://github.com/acyortjs/site/issues">
        最后更新于: 1月 14, 2019
      </a>
    </p>
    <a href="#" class="top">返回顶部</a>
  </div>
</div>



<script src="/js/script.js"></script>


</body>
</html>

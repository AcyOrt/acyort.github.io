<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<meta name="keywords" content="website,acyort,static" />
<meta name="description" content="A Node.js static website framework" />
<link rel="stylesheet" href="/css/style.css" />
<script>window.__language = "zh-cn"</script>

<title>
命令行 - AcyOrt
</title>
</head>

<body>

<div class="header">
  <div class="center">
    <div class="menu">
      
      <a class="logo" href="/zh-cn/">AcyOrt</a>
      
      <a class="github" target="_blank" href="https://github.com/acyortjs/acyort/"></a>
      
      
      <a class="normal" href="/zh-cn/docs/">文档</a>
      
      
      
      <a class="normal" href="/zh-cn/api/">API</a>
      
      
      
      <a class="normal" href="/zh-cn/miscellaneous/">其他</a>
      
      
    </div>
    <div class="mobile-menu">
      
      
      <a href="/zh-cn/docs/">文档</a>
      
      
      
      <a href="/zh-cn/api/">API</a>
      
      
      
      <a href="/zh-cn/miscellaneous/">其他</a>
      
      
      <ul><li><p>开始使用</p><a href="/zh-cn/docs/">概述</a><a href="/zh-cn/docs/setup/">创建</a><a href="/zh-cn/docs/configuration/">配置</a><a href="/zh-cn/docs/command/">命令</a></li><li><p>自定义</p><a href="/zh-cn/docs/template/">模板</a><a href="/zh-cn/docs/variable/">变量</a><a href="/zh-cn/docs/helper/">辅助函数</a><a href="/zh-cn/docs/plugin/">插件</a></li></ul>
      <ul><li><p>API</p><a href="/zh-cn/api/">概述</a><a href="/zh-cn/api/method/">所有方法</a><a href="/zh-cn/api/store/">数据存储</a><a href="/zh-cn/api/process/">流程控制</a><a href="/zh-cn/api/cli/">命令行</a><a href="/zh-cn/api/workflow/">流程注册</a><a href="/zh-cn/api/helper/">辅助函数</a><a href="/zh-cn/api/output/">输出 HTML</a></li></ul>
    </div>
    <div class="language">
      <select id="language">
        
        <option value="">English</option>
        

        
        
        <option value="zh-cn" selected>简体中文</option>
        
        
      </select>
      <div id="toggle"></div>
    </div>
  </div>
</div>



<div class="banner">
  <div class="center">命令行</div>
</div>

<div class="center main">
  <div class="nav">
    <div class="stay">
      
      <ul><li><p>API</p><a href="/zh-cn/api/">概述</a><a href="/zh-cn/api/method/">所有方法</a><a href="/zh-cn/api/store/">数据存储</a><a href="/zh-cn/api/process/">流程控制</a><a href="/zh-cn/api/cli/">命令行</a><a href="/zh-cn/api/workflow/">流程注册</a><a href="/zh-cn/api/helper/">辅助函数</a><a href="/zh-cn/api/output/">输出 HTML</a></li></ul>
      

      
    </div>
  </div>

  <div class="content markdown">
    <p>AcyOrt 提供一个接口用户注册命令行界面，可以注册命令或者选项</p>

      <div class="hljs javascript">
        <pre><span class="hljs-section">const</span> { <span class="hljs-attribute">cli</span> } = acyort</pre>
      </div>
    <p><strong>注册命令</strong></p>

      <div class="hljs javascript">
        <pre><span class="hljs-comment">// 注册以下命令后，可以运行 acyort config 命令 </span>
<span class="hljs-selector-tag">acyort</span><span class="hljs-selector-class">.cli</span><span class="hljs-selector-class">.register</span>(<span class="hljs-string">'commands'</span>, {
    <span class="hljs-attribute">name</span>: <span class="hljs-string">'config'</span>, <span class="hljs-comment">// 命令名称</span>
    <span class="hljs-attribute">fullName</span>: <span class="hljs-string">'configs'</span>, <span class="hljs-comment">// 命令全名，用于展示</span>
    <span class="hljs-attribute">description</span>: <span class="hljs-string">'Show config'</span>, <span class="hljs-comment">// 描述</span>
    action(argv, acyort) { <span class="hljs-comment">// 注册执行函数</span>
      <span class="hljs-comment">// argv 为命令行参数，acyort 为当前可以访问的 AcyOrt 方法集合</span>
      console.log(<span class="hljs-string">'CLI arguments: '</span>, argv, <span class="hljs-string">'\n'</span>)
      console.log(acyort.config)
    },
})</pre>
      </div>
    <p><strong>注册选项</strong></p>

      <div class="hljs javascript">
        <pre><span class="hljs-comment">// 注册以下选项后，可以运行 acyort -c 或者 acyort --config</span>
acyort<span class="hljs-selector-class">.cli</span><span class="hljs-selector-class">.register</span>(<span class="hljs-string">'options'</span>, {
  name: <span class="hljs-string">'--config'</span>, <span class="hljs-comment">// 全名</span>
  alias: <span class="hljs-string">'-c'</span>, <span class="hljs-comment">// 简写</span>
  description: <span class="hljs-string">'Show config'</span>, <span class="hljs-comment">// 描述</span>
  action(argv, _acyort) {
    acyort<span class="hljs-selector-class">.logger</span><span class="hljs-selector-class">.log</span>(<span class="hljs-string">'CLI arguments: '</span>, argv, <span class="hljs-string">'\n'</span>)
    acyort<span class="hljs-selector-class">.logger</span><span class="hljs-selector-class">.info</span>(_acyort.config)
  },
})</pre>
      </div>
    <p>可以通过直接运行 acyort 或者 acyort -h 获取当前注册的命令或者选项</p>
<p><strong>注意</strong></p>
<p>cli 注册的函数中 <code>this</code> 上下文变量能访问的方法只包含以下</p>

      <div class="hljs javascript">
        <pre>const {
<span class="hljs-built_in">  version,</span>
<span class="hljs-built_in">  config,</span>
<span class="hljs-built_in">  process,</span>
<span class="hljs-built_in">  logger,</span>
<span class="hljs-built_in">  store,</span>
} = this</pre>
      </div>
    <p>详细函数定义可以看 <a href="/api/method/">这里</a></p>


    
    <div class="paginator">
      <a name="paginator" class="prev" href="/zh-cn/api/process/">上一页</a><a name="paginator" class="next" href="/zh-cn/api/workflow/">下一页</a>
    </div>
    
  </div>

  <div class="toc">
    <div class="stay">
      
      
    </div>
  </div>
</div>


<div class="footer">
  <div class="center">
    <div class="copy">
      &copy; 2019.
      <span>由 AcyOrt@3.0.11 构建</span>
    </div>
    <p>
      <a target="_blank" href="https://github.com/acyortjs/site/issues">
        最后更新于: 1月 12, 2019
      </a>
    </p>
    <a href="#" class="top">返回顶部</a>
  </div>
</div>



<script src="/js/script.js"></script>


</body>
</html>

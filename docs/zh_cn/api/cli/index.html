<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<meta name="keywords" content="website,acyort,static" />
<meta name="description" content="A Node.js static website framework" />
<link rel="stylesheet" href="/css/style.css" />
<script>window.__language = "zh_cn"</script>

<title>
AcyOrt / 命令行
</title>
</head>

<body>

<div class="header">
  <div class="center">
    <div class="menu">
      <a
        class="logo"
        
        href="/zh_cn/"
        
      >
        AcyOrt
      </a>

      <a class="github" target="_blank" href="https://github.com/acyortjs/acyort/"></a>

      
      <a
        class="normal"
        
        href="/zh_cn/docs/"
        
      >
        文档
      </a>
      
      <a
        class="normal"
        
        href="/zh_cn/api/"
        
      >
        API
      </a>
      
      <a
        class="normal"
        
        href="/zh_cn/miscellaneous/"
        
      >
        其他
      </a>
      
    </div>

    <div class="mobile-menu">
      
      <a
        
        href="/zh_cn/docs/"
        
      >
        文档
      </a>
      
      <a
        
        href="/zh_cn/api/"
        
      >
        API
      </a>
      
      <a
        
        href="/zh_cn/miscellaneous/"
        
      >
        其他
      </a>
      

      <ul><li><p>开始使用</p><a href="/zh_cn/docs/">概述</a><a href="/zh_cn/docs/setup/">创建</a><a href="/zh_cn/docs/configuration/">配置</a><a href="/zh_cn/docs/command/">命令</a></li><li><p>自定义</p><a href="/zh_cn/docs/template/">模板</a><a href="/zh_cn/docs/plugin/">插件</a><a href="/zh_cn/docs/helper/">辅助函数</a></li></ul>
      <ul><li><p>API</p><a href="/zh_cn/api/">概述</a><a href="/zh_cn/api/renderer/">渲染器</a><a href="/zh_cn/api/cli/">命令行</a><a href="/zh_cn/api/store/">数据存储</a><a href="/zh_cn/api/workflow/">流程</a><a href="/zh_cn/api/helper/">辅助函数</a><a href="/zh_cn/api/util/">工具类</a><a href="/zh_cn/api/hooks/">钩子</a></li></ul>
    </div>

    <div class="language">
      <select id="language">
        
        <option
          value="en"
          
        >
          English
        </option>
        
        <option
          value="zh_cn"
          
          selected
          
        >
          简体中文
        </option>
        
      </select>
      <div id="toggle"></div>
    </div>
  </div>
</div>



<div class="banner">
  <div class="center">命令行</div>
</div>

<div class="center main">
  <div class="nav">
    <div class="stay">
      
      <ul><li><p>API</p><a href="/zh_cn/api/">概述</a><a href="/zh_cn/api/renderer/">渲染器</a><a href="/zh_cn/api/cli/">命令行</a><a href="/zh_cn/api/store/">数据存储</a><a href="/zh_cn/api/workflow/">流程</a><a href="/zh_cn/api/helper/">辅助函数</a><a href="/zh_cn/api/util/">工具类</a><a href="/zh_cn/api/hooks/">钩子</a></li></ul>
      

      
    </div>
  </div>

  <div class="content markdown">
    <p>此接口用于注册命令行，可以注册命令或者选项</p><p>AcyOrt 已经内置一些基础命令，具体查看 <a href="/docs/command/">命令</a> 说明</p><p>可以通过直接运行 <code>acyort</code> 或者 <code>acyort -h</code> 获取当前注册的命令或者选项</p><h3>
  <a href="#注册命令" id="注册命令"></a>注册命令
</h3><pre class="language-js"><code class="language-js"><span class="token comment">// 注册以下命令后，可以运行 acyort config 命令</span>
acyort<span class="token punctuation">.</span>cli<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'commands'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'config'</span><span class="token punctuation">,</span> <span class="token comment">// 命令名称</span>
  fullName<span class="token punctuation">:</span> <span class="token string">'configs'</span><span class="token punctuation">,</span> <span class="token comment">// 命令全名，用于展示</span>
  description<span class="token punctuation">:</span> <span class="token string">'Show config'</span><span class="token punctuation">,</span> <span class="token comment">// 描述</span>
  <span class="token function">action</span><span class="token punctuation">(</span><span class="token parameter">argv</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 注册执行函数</span>
    <span class="token comment">// argv 为命令行参数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'CLI arguments: '</span><span class="token punctuation">,</span> argv<span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>acyort<span class="token punctuation">.</span>config<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h3>
  <a href="#注册选项" id="注册选项"></a>注册选项
</h3><pre class="language-js"><code class="language-js"><span class="token comment">// 注册以下选项后，可以运行 acyort -c 或者 acyort --config</span>
acyort<span class="token punctuation">.</span>cli<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'options'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'--config'</span><span class="token punctuation">,</span> <span class="token comment">// 全名</span>
  alias<span class="token punctuation">:</span> <span class="token string">'-c'</span><span class="token punctuation">,</span> <span class="token comment">// 简写</span>
  description<span class="token punctuation">:</span> <span class="token string">'Show config'</span><span class="token punctuation">,</span> <span class="token comment">// 描述</span>
  <span class="token function">action</span><span class="token punctuation">(</span><span class="token parameter">argv</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// 只能访问到 workflow 方法</span>
    acyort<span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'CLI arguments: '</span><span class="token punctuation">,</span> argv<span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
    acyort<span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>acyort<span class="token punctuation">.</span>config<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>注意</strong></p><p>cli 注册函数中 <code>this</code> 上下文变量能访问的方法只有 <code>workflow</code> 的 <code>start</code> 方法</p><p>详细 API 函数可以查看 <a href="/api/">API</a> 说明</p>

    
    <div class="paginator">
      <a name="paginator" class="prev" href="/zh_cn/api/renderer/">上一页</a><a name="paginator" class="next" href="/zh_cn/api/store/">下一页</a>
    </div>
    
  </div>

  <div class="toc">
    <div class="stay">
      
      <p>目录</p>
      <ul>
<li><a href="#注册命令">注册命令</a></li>
<li><a href="#注册选项">注册选项</a></li>
</ul>

      
    </div>
  </div>
</div>


<div class="footer">
  <div class="center">
    <div class="copy">
      &copy; 2019.
      <span>由 AcyOrt@3.4.0 构建</span>
    </div>
    <p>
      最后更新于: 2019年5月26日 17:15
    </p>
    <a href="#" class="top">返回顶部</a>
  </div>
</div>



<script src="/js/script.js"></script>


</body>
</html>

<!doctype html>
<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="keywords" content="acyort, nodejs, blog" />
<meta name="description" content="A Node.js blog tool powered by GitHub." />
<link rel="icon" href="/icon.png" />
<link rel="stylesheet" href="/css/style.css" />

  <title>
最牛逼的 HTML 和 CSS 代码的背后 - AcyOrt
</title>
</head>

<body>

<div class="main">

<div class="header">
    <div class="center">
        <a class="logo" href="/">AcyOrt</a>

        <div class="menu">
            <div class="menuicon"></div>

            <div class="menuitem">
            
            <a href="/">home</a>
            
            <a href="/about">about</a>
            
            <a href="/">archives</a>
            
            </div>
        </div>
    </div>
</div>




<div id="post" class="center">

    <p class="time">October 20, 2012</p> 

    <h1 class="title">最牛逼的 HTML 和 CSS 代码的背后</h1>

    <div class="content"><p>前些天，<a href="http://weibo.com/kejunz">kejunz</a> 在微博上发了两条微博：</p>
<blockquote>
<p>现在国内都一堆只会写JS的前端工程师真是奇葩啊 </p>
<p>我认为史上写的最牛逼的html是<code>&lt;div class=&quot;mod&quot;&gt;&lt;div class=&quot;hd&quot;&gt;&lt;/div&gt;&lt;div class=&quot;bd&quot;&gt;&lt;/div&gt;&lt;/div&gt;</code>可以想想它好在哪</p>
</blockquote>
<p>这两个话题都挺有意思的。</p>
<p>第一个是吐槽目前很多前端太重JS，而忽视了HTML和CSS的重要性。这个话题，今年我在WebReBuild上海站时也提到过，甚至比较极端的说，<strong>在前端开发领域，最难的其实是HTML，其次是CSS，最后才是JS。</strong>当然这句话是不正确的，然而我们真需要老说那么正确的话吗？正确的话很多时候还不如不正确的话那么对人有用。比对错更重要的是对场景、环境的理解、把控。克军在感慨“奇葩”时，离不开的是当下的前端环境。对错是二元论，二元论就和红色电影里的好人坏人一样，与真实世界有较大的偏差。好的文学作品当如《红楼梦》一样，或者莫言的《蛙》，里面的人物，即便夸张，也无对错的评价。貌似跑题了，最近写什么都很容易跑题，奇怪……</p>
<p>克军的第二条微博，在我看到时真有一种触动。“最牛逼”只是修饰语，表示强调，就如我说“最难”的是HTML一样。看到这种微博时，别急着去反驳有更牛逼的HTML，或去思考JS比HTML难呀。若抱着这种反驳、挑刺的心态去读微博，或者倾听他人谈话，大部分情况下你不会有什么收获。</p>
<p>为什么克军会说最牛逼的HTML是<code>&lt;div class=&quot;mod&quot;&gt;&lt;div class=&quot;hd&quot;&gt;&lt;/div&gt;&lt;div class=&quot;bd&quot;&gt;&lt;/div&gt;&lt;/div&gt;</code>？克军究竟想表达什么？照着这条路子去想，就挺有意思了。</p>
<p>凡是真心当过切图仔的（非贬义，我认为切图仔对前端来说是个褒义词，很形象，就和美国的西部牛仔一样），或多或少都写过：</p>
<pre><code>&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"box"</span>&gt;
 ...
&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre><p>上面的代码是典型的一个页面区域，或者说页面的模块。纵观当前互联网上的页面，几乎充满着各种页面模块。一个典型的页面模块，包括头部和主体，比如：</p>
<pre><code>&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"box"</span>&gt;
  &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"hd"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
  &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"bd"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/<span class="hljs-keyword">div</span>&gt;
</code></pre><p>至于里面的 class 名，最外层有叫 box 的，也有叫 mod 的，不用太纠结，都差不多。里面的 hd 和 bd，则千差万别，比如 header、content、container、main 等等都有。克军是受了 YUI 的影响，用 hd 和 bd 也蛮清晰的，这些都不纠结。对一个团队来说，关键是要统一，要达成一致理解。</p>
<p>上面还无法说明为何这就牛逼了，我的理解是，要知道上面的代码为什么牛逼，你得亲历并想清楚过以下事情：</p>
<ol>
<li>为何只有 hd 和 bd？ft 呢？</li>
<li>为何用 div 而不是 section / header 等？</li>
<li>为何 hd 里的标签没做约定？</li>
<li>这段代码，是为了满足什么需求？</li>
<li>对于复杂需求，这个代码如何变化？</li>
<li>简单和复杂之间如何权衡？（很多程序员倾向于把事情搞复杂）</li>
<li>为何不是 mod / mod-hd / mod-bd ？</li>
<li>在什么场景下这段代码不适用？（比如组合命名和长命名之争）</li>
<li>这东西跟性能没关系。</li>
<li>这东西跟可维护性关系很大。</li>
<li>究竟什么是结构与样式的分离？</li>
<li>衡量一个好的HTML代码的标准是什么？</li>
<li>结构化设计是什么？</li>
<li>部分如何构建出整体？砖瓦是怎么变成大厦的？</li>
<li>关注度分离是个啥东西？</li>
<li>什么是抽象？抽象的价值究竟是啥？</li>
<li>什么是创新？什么是超越？</li>
</ol>
<p>一定会有人说我扯远了。不过我想，如果你遇到过并认真思考过以上问题，你在见到克军这条微博时就不会惊讶了。这段代码的确是最牛逼的HTML代码。如果你不同意，请参考我前面关于对错的观点。</p>
<p>看到克军这条微博后的一天，我就在思索最牛逼的HTML代码有了，那么最牛逼的CSS代码是什么呢？仔细搜寻了一番记忆，于是有了这条微博：</p>
<blockquote>
<p>贴一个我见过的写得最好的 CSS 代码：.content { width: 980px; margin-left: auto; margin-right: auto; } 可以想想好在哪。</p>
</blockquote>
<p>算是抖个包袱，早上发完之后，就秋游去了。玩了一天，看看回复，还是挺有意思的，有少数几个回复已经说出了我想说的。其实大部分在上面说最牛逼的HTML时已经说了，但还得说明下：</p>
<ol>
<li>这跟性能没关。怎么老有人喜欢“性能思维”呢？在前端代码里，大部分性能问题都是扯淡。</li>
<li>这跟 980px 没关。栅格年代已经远去了，960 不是 magic number.</li>
</ol>
<p>这段代码的作用，是个前端都能看懂：让块元素水平居中。一般大家都会写成：</p>
<pre><code><span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">980px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
}
</code></pre><p>上面的代码能正常工作，大部分情况下也不会有问题，但上面的代码存在<strong>思维的懒惰</strong>。写成:</p>
<pre><code><span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">980px</span>;
  <span class="hljs-attribute">margin-left</span>: auto;
  <span class="hljs-attribute">margin-right</span> <span class="hljs-attribute">auto</span>;
}
</code></pre><p>看起来代码变多了，变啰嗦了。但如果你真经过思考，就会明白：</p>
<ol>
<li><code>margin: 0 auto</code> 中的 0 绝大部分情况下是冗余的，页面上早就有 reset.css 或 normalize.css 重置过</li>
<li><code>margin: 0 auto</code> 不纯粹，你要的是“水平居中”，却顺便把 top / bottom 给重置了</li>
<li>不纯粹会导致顺序和优先级的依赖，比如有另一处要给 margin-top/bottom 赋值时，就必须要提高优先级</li>
</ol>
<p>进一步的东西是，我一直觉得CSS里，有一个重要的原则：</p>
<p><strong>最小影响原则</strong></p>
<p>你在写某段CSS代码时，首先要非常清楚地知道这段CSS代码的功能，其次要尽量严格保障这段CSS代码只实现了你想要实现的功能。</p>
<p>这就如医生动手术，好好做好本分就行，千万别留下一个小镊子在病人身体里。</p>
<p>与HTML代码一样，对CSS代码来说，很重要的两个衡量标准也是稳定和灵活。这里不多说了。</p>
<p>熟悉设计模式的，应该会感知到，最小影响原则和单一职责原则（SRP）本质上是一样的。SRP 作为设计模式的重要原则之一，其重要性不用我在此啰嗦了。</p>
<p>最后想说下下面这段代码：</p>
<pre><code>&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"mod"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tr"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tl&gt;&lt;div class="</span><span class="hljs-attr">tc</span>"&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mr"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ml"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mc"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"br"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bl&gt;&lt;div class="</span><span class="hljs-attr">bc</span>"&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre><p>好像还有人做过九宫格布局……</p>
<p>以及最近在 KISSY 开发群里的一段文字：</p>
<pre><code>我发现DataLazyload有两个问题：
<span class="hljs-number">1.</span>判断节点是否已经在视图之中的时间简单的判断Dom.offset,没有考虑到节点或者上级节点被隐藏的现象
<span class="hljs-number">2.</span>如果页面上脚本自动显示、隐藏或更改一些层的大小，引起某些层从视图外移动到视图类，DataLazyload既没有自己判断这种情况，也没有提供接口来重新执行loadItems
</code></pre><p>很多DPL了做着做着，很多类库组件开发着开发着，都很容易被诱惑着去“满足所有需求”，去“解决所有bug”…… </p>
<p><strong>如何权衡简单与复杂？如何在复杂中依旧能保持简单？没bug的组件是好组件吗？究竟什么是好组件？</strong></p>
<p>然后，没有然后了……</p>
</div>

    <div class="cat">
    
    <p><span>#</span> <a href="/category/blog/">blog</a></p>
    
    </div>

    <div class="relate">
        
        
        <p><span>PREV: </span><a rel="prev" href="/posts/7971795.html">Arale 背后的一些设计理念</a></p>
        

        
        
        <p><span>NEXT: </span><a rel="next" href="/posts/7402771.html">从 Vim 与 IDE 的讨论说起</a></p>
        

        <p><span></span><a rel="all" href="/">View All Posts</a></p>
    </div>

    <div class="comments">
        <div id="disqus_thread"></div>
    </div>

</div>


<div class="footer">
    <div class="center">
        AcyOrt / powered by <a target="_blank" href="https://github.com/AcyOrt/acyort">AcyOrt</a> / <a target="_blank" href="/rss.xml">RSS</a>
    </div>
</div>

<script>

var menu = document.querySelector('.menu');

document.querySelector('.main').addEventListener('click', function(e) {
    if (e.target.classList.toString().indexOf('menuicon') > -1) {
        return menu.classList.toggle('active')
    } 

    return menu.classList.remove('active')
})

</script>




<script>
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//acyort.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>



</div>

</body>
</html>
